(function(a){a.http=function(c,g,e){var b,f,d=function(k,i,h,j){return f=a.promise(function(){var n=new XMLHttpRequest(),m="?",l="&",p=encodeURIComponent;if(h){for(var o in h){if(h.hasOwnProperty(o)){j+=l+p(o)+"="+p(h[o])}}}if(!(k==="POST"||k==="PUT")){i+=i.indexOf(m)>-1?l:m+(j||"");j=null}n.onload=function(){if(this.status>=200&&this.status<300){f.resolve(this.response)}else{f.reject(this.statusText)}};n.onerror=function(){f.reject(this.statusText)};n.open(k,i);n.send(j);return n})};b={get:function(h){return d("GET",c,h)},post:function(h){return d("POST",c,h)},put:function(h){return d("PUT",c,h)},"delete":function(h){return d("DELETE",c,h)}};return g?b[g.toLowerCase()](e):b}})(window.promise=window.promise||{});