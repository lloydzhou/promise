(function(a){a.http=function(d,h,g){var b,f=a.promise,c=String.prototype.toLowerCase,e=function(k,j,i){return new f(function(s,p){var n=new XMLHttpRequest(),m="?",l="&",q=encodeURIComponent,r="";if(typeof i=="object"){for(var o in i){if(i.hasOwnProperty(o)){r+=l+q(o)+"="+q(i[o])}}}else{r=i}if(k!="POST"&&k!="PUT"){j+=(j.indexOf(m)>-1?l:m)+r.substr(1);r=null}n.onload=function(){if(n.status>=200&&n.status<300){s(n.response)}else{p(n.statusText)}};n.onerror=function(){p(n.statusText)};n.open(k,j);n.send(r);return n})};b=new f(["HEAD","GET","POST","PUT","DELETE"].reduce(function(j,i){j[c.call(i)]=function(k){return e(i,d,k)};return j},{}));return h?b[c.call(h)](g):b}})(window.promise=window.promise||{});